<app-container [pageTitle]="pageTitle">
  <form [formGroup]="userForm" (submit)="onSubmit()">
    <p-card>
      <ng-template #title>
        <h4 class="text-base font-bold">User Details</h4>
      </ng-template>
      <div class="mt-3 w-full sm:w-1/2">
        <div class="flex flex-col mb-3">
          <label for="name">Name</label>
          <input
            pInputText
            id="name"
            placeholder="Name"
            formControlName="name"
          />
          @if ( userForm.get("name")?.hasError("required") &&
          userForm.get("name")?.touched ) {
          <small class="required">Name is required.</small>
          }
        </div>
        <div class="flex flex-col mb-3">
          <label for="email">Email Address</label>
          <input
            pInputText
            id="email"
            placeholder="Email Address"
            formControlName="email"
          />
          @if ( userForm.get("email")?.hasError("required") &&
          userForm.get("email")?.touched ) {
          <small class="required">Email is required.</small>
          }
        </div>
        <div class="flex flex-col mb-3">
          <label for="status">Role</label>
          <p-select
            [options]="roles"
            optionLabel="name"
            optionValue="name"
            placeholder="Role"
            styleClass="w-full"
            [showClear]="true"
            formControlName="role"
          />
          @if ( userForm.get("role")?.hasError("required") &&
          userForm.get("role")?.touched ) {
          <small class="required">Role is required.</small>
          }
        </div>
      </div>
      <ng-template #footer>
        <div class="flex mt-2">
          <p-button
            routerLink="/users"
            label="Cancel"
            icon="pi pi-times"
            severity="secondary"
          />
          <p-button
            type="submit"
            label="Save"
            icon="pi pi-check"
            class="ml-2"
          />
        </div>
      </ng-template>
    </p-card>
  </form>
</app-container>
<p-toast />
